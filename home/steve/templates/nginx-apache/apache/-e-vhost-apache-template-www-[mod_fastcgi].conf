# Generated on _GENERATED_
# Template file is _TEMPLATE_DIRECTORY_/nginx-apache/apache/-e-vhost-apache-template-www.conf
# www:YES

<VirtualHost *:_APACHE_PORT_>
    ServerName _DOMAIN_._TLD_
    ServerAlias www._DOMAIN_._TLD_
    DocumentRoot _DOCUMENT_ROOT_
    <Directory _DOCUMENT_ROOT_>
        AllowOverride All
    </Directory>
    
    # The FastCGIExternalServer directive defines php-fcgi-_UNIQUE_ as an external FastCGI application whose name
    # must be different within each virtual host configuration. If not, Apache will throw the error "FastCgiExternalServer: 
    # redefinition of previously defined class '/usr/lib/cgi-bin/php-fcgi'". To avoid this, a hyphen plus a unique 5-character 
    # alphanumeric string (generated by add-vhost-na.sh) is appended to the FastCGI application name. In this virtual host 
    # configuration, 'php-fcgi' becomes 'php-fcgi-_UNIQUE_'. This does NOT have to exist in the local filesystem.
    # See https://serverfault.com/questions/439692/apache-and-multiple-php-fpm-pools 
    <IfModule mod_fastcgi.c>
        Action application/x-httpd-fastphp /php-fcgi-_UNIQUE_
        Alias /php-fcgi-_UNIQUE_ /usr/lib/cgi-bin/php-fcgi-_UNIQUE_
        FastCgiExternalServer /usr/lib/cgi-bin/php-fcgi-_UNIQUE_ -socket /run/php/php7.4-fpm._POOL_.sock -pass-header Authorization
    </IfModule>
    
</VirtualHost>